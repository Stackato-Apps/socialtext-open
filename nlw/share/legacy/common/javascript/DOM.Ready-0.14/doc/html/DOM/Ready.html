<html><head><title>DOM.Ready</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.01,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.008007 at Fri Mar 31 07:09:03 2006 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>DOM.Ready - set up callbacks to run when the DOM is ready instead of using onLoad</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre lang='und' xml:lang='und'>  DOM.Ready.onDOMReady( myFunction );
  DOM.Ready.onIdReady( &#34;an_id&#34;, myOtherFunction );</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>It&#39;s a very common case to want to run one or more functions when the document loads. The simplest option is to use the window.onLoad to trigger these functions.</p>

<p>This has several problems. First, window.onLoad may not happen until well after the document is mostly loaded, due to delays in fetching images or other dependencies. Second, there is no built-in API for stacking multiple onLoad callbacks.</p>

<p>This module provides several simple functions to register callbacks that should be run, either when the DOM/document is ready or when a specific element (found by id) is ready. This is done through the use of a recurring interval that checks to see if the callbacks should be run.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PROPERTIES"
>PROPERTIES</a></h1>

<p>The DOM.Ready class has the following settable properties:</p>

<ul>
<li>DOM.Ready.timerInterval = milliseconds</li><p class="pad"></p>

<p>The number of milliseconds to wait between each readiness check. Defaults to 50.</p>

<li>DOM.Ready.finalTimeout = seconds</li><p class="pad"></p>

<p>The number of seconds before the recurring readiness checks stop running. Defaults to 15 seconds.</p>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<p>DOM.Ready provides the following functions. None of these are exportable.</p>

<ul>
<li>onDOMReady( callback )</li><p class="pad"></p>

<p>Provide a callback function to be called once the DOM is ready. If the DOM is ready when <code lang='und' xml:lang='und'>onDOMReady()</code> is called, then the callback will be called immediately.</p>

<li>onDOMDone( callback )</li><p class="pad"></p>

<p>Provide a callback function to be called once the DOM is complete. If the DOM is done when <code lang='und' xml:lang='und'>onDOMDone()</code> is called, then the callback will be called immediately.</p>

<p>The DOM is done when all the elements in the DOM have been processed, but this does not wait for external images to load.</p>

<li>onIdReady( id, callback )</li><p class="pad"></p>

<p>Provide a callback to be called when the given id is found (using document.getElementById). The callback will be called with the element object as its only argument. If the element is available when <code lang='und' xml:lang='und'>onIdReady()</code> is called, then the callback will be called immediately.</p>

<p>Note that an element might be ready but it&#39;s children may not yet have been inserted. This can lead to intermittent problems where your callback is called and the element&#39;s children do not yet exist. If this is a problem, use <code lang='und' xml:lang='und'>onDOMDone()</code> instead.</p>

<li>runCallbacks()</li><p class="pad"></p>

<p>Explicitly run all callbacks that can be run. This can be used to run all the callbacks at a known time, for example just before the close of a document&#39;s <code lang='und' xml:lang='und'>&#60;/body&#62;</code> tag.</p>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="KNOWN_ISSUES"
>KNOWN ISSUES</a></h1>

<p>If <code lang='und' xml:lang='und'>onIdReady()</code> is called after the final timeout has passed and the specified element is not ready, then the callback will never be called.</p>

<p>This code has not seen a lot of production use, so be wary of bugs.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Dave Rolsky, &#60;autarch@urth.org&#62;.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CREDITS"
>CREDITS</a></h1>

<p>This library was inspired by Brother Cake&#39;s domFunction, though it is entirely new code.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (c) 2005-2006 Dave Rolsky. All rights reserved.</p>

<p>This module is free software; you can redistribute it and/or modify it under the same terms as the Perl programming language (your choice of GPL or the Perl Artistic license).</p>

<!-- end doc -->

</body></html>
