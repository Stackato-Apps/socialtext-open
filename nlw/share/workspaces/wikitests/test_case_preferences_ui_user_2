
| *Comment* | Test Case: Preferences UI User 2 |  |


| set | new_account | userPrefs.%%start_time%%.2 |
| set | new_ws | userprefs-%%start_time%%-2 |
| set | new_user | userPrefs2.%%start_time%%@ken.socialtext.net |
| set | new_name | userPrefs2 %%start_time%% |
| include | [Test Case: Preferences UI User Setup] |  |

| *Comment* | Test Case: Preferences UI User 2. Time. Defaults: Pacific, auto, M-D-Y, 12, no |  |
| open_ok | /?action=preferences_settings;preferences_class_id=timezone |  |
| text_like | contentContainer | What time zone should times be displayed in |
| text_like | contentContainer | How should Daylight Savings/Summer Time be handled |
| text_like | contentContainer | How should displayed dates be formatted |
| text_like | contentContainer | Should times be displayed in 12-hour or 24-hour format |
| text_like | contentContainer | Should seconds be included on displayed times |
| is_selected_ok | timezone__timezone | label=-0800 Pacific |
| is_selected_ok | timezone__dst | label=automatic, United States |
| is_selected_ok | timezone__date_display_format | value=mmm_d_yyyy |
| is_selected_ok | timezone__time_display_12_24 | value=12 |
| verifyValue | //input[@name='timezone__time_display_seconds'] | off |

| *Comment* | Test Case: Preferences UI User 2. Time. Nome, on, mmm_d_yyyy, 24,on |  |
| select_ok | timezone__timezone | label=-1100 Nome |
| select_ok | timezone__dst | label=currently in DST |
| select_ok | timezone__date_display_format | value=mmm_d_yyyy |
| select_ok | timezone__time_display_12_24 | value=24 |
| check_ok | //input[@name='timezone__time_display_seconds'] | on |
| is_selected_ok | timezone__timezone | label=-1100 Nome |
| is_selected_ok | timezone__dst | label=currently in DST |
| is_selected_ok | timezone__date_display_format | value=mmm_d_yyyy |
| is_selected_ok | timezone__time_display_12_24 | value=24 |
| value_is | //input[@name='timezone__time_display_seconds'] | on |
| click_and_wait | link=Save |  |
| text_like | qr/Preferences Saved/i |  |
| is_selected_ok | timezone__timezone | label=-1100 Nome |
| is_selected_ok | timezone__dst | label=currently in DST |
| is_selected_ok | timezone__date_display_format | value=mmm_d_yyyy |
| is_selected_ok | timezone__time_display_12_24 | value=24 |
| value_is | //input[@name='timezone__time_display_seconds'] | on |

| *Comment* | Test Case: Preferences UI User 2. Time. Save without changing values |  |
| click_and_wait | link=Save |  |
| text_like | qr/Preferences Saved/i |  |
| is_selected_ok | timezone__timezone | label=-1100 Nome |
| is_selected_ok | timezone__dst | label=currently in DST |
| is_selected_ok | timezone__date_display_format | value=mmm_d_yyyy |
| is_selected_ok | timezone__time_display_12_24 | value=24 |
| value_is | //input[@name='timezone__time_display_seconds'] | on |

| *Comment* | Test Case: Preferences UI User 2. Time. Cancel chooses previous values |  |
| select_ok | timezone__timezone | label=-0800 Pacific |
| select_ok | timezone__dst | label=automatic, United States |
| select_ok | timezone__date_display_format | value=yyyy_mm_dd |
| select_ok | timezone__time_display_12_24 | value=12 |
| uncheck_ok | //input[@name='timezone__time_display_seconds'] |  |
| click_ok | link=Cancel |  |
| is_selected_ok | timezone__timezone | label=-1100 Nome |
| is_selected_ok | timezone__dst | label=currently in DST |
| is_selected_ok | timezone__date_display_format | value=mmm_d_yyyy |
| is_selected_ok | timezone__time_display_12_24 | value=24 |
| value_is | //input[@name='timezone__time_display_seconds'] | on |

| *Comment* | Test Case: Preferences UI User 2. Time. Navigate away, return, verify values |  |
| open_ok | /?action=preferences_settings;preferences_class_id=timezone |  |
| is_selected_ok | timezone__timezone | label=-1100 Nome |
| is_selected_ok | timezone__dst | label=currently in DST |
| is_selected_ok | timezone__date_display_format | value=mmm_d_yyyy |
| is_selected_ok | timezone__time_display_12_24 | value=24 |
| value_is | //input[@name='timezone__time_display_seconds'] | on |

| *Comment* | Test Case: Preferences UI User 2. Watchlist Notification. Defaults: Every day, chronologically, full info |  |
| open_ok | /%%new_ws%% |  |
| click_and_wait | link=Settings |  |
| click_and_wait | link=Watchlist |  |
| text_like | contentContainer | How frequently would you like to receive watchlist emails |
| text_like | contentContainer | What information about changed pages do you want in email digests |
| is_selected_ok | watchlist__watchlist_notify_frequency | label=Every Day |
| verifyValue | //input[@value='expanded'] | on |

| *Comment* | Test Case: Preferences UI User 2. Watchlist Notification. Set: Every 15 Minutes, expanded |  |
| select_ok | watchlist__watchlist_notify_frequency | label=Every 15 Minutes |
| check_ok | //input[@value='expanded'] |  |
| is_selected_ok | watchlist__watchlist_notify_frequency | label=Every 15 Minutes |
| verifyValue | //input[@value='expanded'] | on |
| click_and_wait | link=Save |  |
| text_like | qr/Preferences Saved/i |  |
| is_selected_ok | watchlist__watchlist_notify_frequency | label=Every 15 Minutes |
| verifyValue | //input[@value='expanded'] | on |

| *Comment* | Test Case: Preferences UI User 2. Watchlist Notification. Set: Every week, reverse chronologically, condensed |  |
| select_ok | watchlist__watchlist_notify_frequency | label=Every Week |
| check_ok | //input[@value='condensed'] |  |
| is_selected_ok | watchlist__watchlist_notify_frequency | label=Every Week |
| verifyValue | //input[@value='condensed'] | on |
| click_and_wait | link=Save |  |
| text_like | qr/Preferences Saved/i |  |
| is_selected_ok | watchlist__watchlist_notify_frequency | label=Every Week |
| verifyValue | //input[@value='condensed'] | on |

| *Comment* | Test Case: Preferences UI User 2. Watchlist Notification. Save without changing values |  |
| click_and_wait | link=Save |  |
| text_like | qr/Preferences Saved/i |  |
| is_selected_ok | watchlist__watchlist_notify_frequency | label=Every Week |
| verifyValue | //input[@value='condensed'] | on |

| *Comment* | Test Case: Preferences UI User 2. Watchlist Notification. Cancel chooses previous values |  |
| select_ok | watchlist__watchlist_notify_frequency | label=Never |
| check_ok | //input[@value='expanded'] |  |
| is_selected_ok | watchlist__watchlist_notify_frequency | label=Never |
| verifyValue | //input[@value='expanded'] | on |
| click_ok | link=Cancel |  |
| is_selected_ok | watchlist__watchlist_notify_frequency | label=Every Week |
| verifyValue | //input[@value='condensed'] | on |

| *Comment* | Test Case: Preferences UI User 2. Watchlist Notification. Navigate away, return, verify values |  |
| click_and_wait | link=My Settings |  |
| click_and_wait | link=Watchlist |  |
| text_like | contentContainer | How frequently would you like to receive watchlist emails |
| text_like | contentContainer | What information about changed pages do you want in email digests |
| is_selected_ok | watchlist__watchlist_notify_frequency | label=Every Week |
| verifyValue | //input[@value='condensed'] | on |

| *Comment* | Test Case: Preferences UI User 2. Watchlist Notification. Special case: Never |  |
| select_ok | watchlist__watchlist_notify_frequency | label=Never |
| is_selected_ok | watchlist__watchlist_notify_frequency | label=Never |
| click_and_wait | link=Save |  |
| text_like | qr/Preferences Saved/i |  |
| is_selected_ok | watchlist__watchlist_notify_frequency | label=Never |

| include | [Test Case: Preferences UI User Teardown] |  |

| *Comment* | Test Case: Preferences UI User 2 COMPLETED |  |
