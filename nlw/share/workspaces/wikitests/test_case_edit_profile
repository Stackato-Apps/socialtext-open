* Fixture: SocialWidgets

| *Comment* | Test Case: Edit Profile |  |
| *Comment* | Removed photo upload and High Permissions. Se no longer crashes. Still, follow this test by [Test Case: Verify Profile] to see if the values were saved. |  |

| *Comment* | Test Case: Edit Profile. There values must be matched in [Test Case: Verify Profile] |  |
| set | e_user | profile.editor@ken.socialtext.net |
| set | short_e_user | profile.editor |
| set | fname | Profile |
| set | lname | Editor |
| set | new_fname | Profligate |
| set | new_mname | Epitome |
| set | new_lname | Edisaurus |
| set | super | epsupervisor@ken.socialtext.net |
| set | short_super | epsupervisor |
| set | assistant | epassistant@ken.socialtext.net |
| set | short_assistant | epassistant |

| *Comment* | Test Case: Edit Profile. Create a user. user may already exist |  |
| st-admin | `create-user --e %%e_user%% --p %%password%%` |  |
| st-admin | `change-password --e %%e_user%% --p %%password%%` |  |
| st-admin | `set-user-names --e %%e_user%% --f %%fname%% --l %%lname%% --m""` |  |
| st-admin | `create-user -e %%super%% --p %%password%%` |  |
| st-admin | `create-user -e %%assistant%% --p %%password%%` |  |

| *Comment* | Test Case: Edit Profile. Access profile. |  |
| open_ok | /nlw/submit/logout |  |
| wait_for_element_visible_ok | username | 60000 |
| wait_for_element_visible_ok | password | 60000 |
| type_ok | username | %%e_user%% |
| type_ok | password | %%password%% |
| click_and_wait | login_btn |  |

| *Comment* | Verify original first and last names: %%fname%% %%lname%% |  |
| text_like | %%fname%% %%lname%% |  |
| open_ok | /st/profile |  |
| text_like | st-page-titletext | %%fname%% %%lname%% |

| *Comment* | Test Case: Edit Profile. Open for editing |  |
| st-name-widget | 1 | profile |
| st-select-widget-frame | profile |  |
| wait_for_element_visible_ok | link=Edit Profile | 60000 |
| click_and_wait | link=Edit Profile |  |

| *Comment* | Test Case: Edit Profile. Verify profile present. |  |
| st-name-widget | 1 | profile_details |
| st-widget-title-like | profile_details | Edit Profile |
| st-select-widget-frame | profile_details |  |
| wait_for_element_visible_ok | photo-upload-button | 60000 |
| wait_for_element_visible_ok | update_profile | 60000 |
| text_like | //body | Name |
| text_like | //body | Organization |
| text_like | //body | Contact |
| text_like | //body | IM |
| text_like | //body | Web |
| text_like | //body | First Name |
| text_like | //body | Middle Name |
| text_like | //body | Last Name |
| text_like | //body | Preferred |
| verifyValue | first_name | %%fname%% |
| verifyValue | last_name | %%lname%% |
| select-frame | relative=parent |  |

| *Comment* | Test Case: Edit Profile. Verify by clicking link=(edit) from Global Nav |  |

| open_ok | /st/dashboard/ |  |
| wait_for_element_visible_ok | link=(edit) | 30000 |
| click_and_wait | link=(edit) |  |
| st-name-widget | 1 | profile_widget |
| st-widget-title-like | profile_widget | Edit Profile |
| st-select-widget-frame | profile_widget |  |
| wait_for_element_visible_ok | photo-upload-button | 60000 |
| wait_for_element_visible_ok | update_profile | 60000 |
| text_like | //body | Name |
| text_like | //body | Organization |
| text_like | //body | Contact |
| text_like | //body | IM |
| text_like | //body | Web |
| text_like | //body | First Name |
| text_like | //body | Middle Name |
| text_like | //body | Last Name |
| text_like | //body | Preferred |
| verifyValue | first_name | %%fname%% |
| verifyValue | last_name | %%lname%% |

| *Comment* | Test Case: Edit Profile. Fill in all values |  |
| type_ok | first_name | %%new_fname%% |
| type_ok | middle_name | %%new_mname%% |
| type_ok | last_name | %%new_lname%% |
| type_ok | position | Position %%short_e_user%% |
| type_ok | company | Company %%short_e_user%% |
| type_ok | location | Location %%short_e_user%% |
| type_ok | work_phone | 555-work-%%short_e_user%% |
| type_ok | mobile_phone | 555-mobile-%%short_e_user%% |
| type_ok | home_phone | 555-home-%%short_e_user%% |
| type_ok | aol_sn | AOL %%short_e_user%% |
| type_ok | yahoo_sn | Yahoo %%short_e_user%% |
| type_ok | gtalk_sn | GTalk %%short_e_user%% |
| type_ok | skype_sn | Skype %%short_e_user%% |
| type_ok | sametime_sn | Sametime %%short_e_user%% |
| type_ok | twitter_sn | Twitter %%short_e_user%% |
| type_ok | blog | blog/%%short_e_user%% |
| type_ok | personal_url | personal/%%short_e_user%% |
| type_ok | linkedin_url | linkedIn/%%short_e_user%% |
| type_ok | facebook_url | facebook/%%short_e_user%% |
| type_ok | communicator_sn | MSOCS %%short_e_user%% |

| *Comment* | Test Case: Edit Profile. Need to select users in a common account |  |
| wait_for_element_visible_ok | field_supervisor | 30000 |
| type-lookahead-ok | xpath=//div[@id='field_supervisor']/input[@class='relationship'] | %%short_super%% |
| wait-for-element-present-ok | link=%%short_super%% |  |
| click-ok | link=%%short_super%% |  |
| wait_for_element_visible_ok | field_assistant | 30000 |
| type-lookahead-ok | xpath=//div[@id='field_assistant']/input[@class='relationship'] | %%short_assistant%% |
| wait-for-element-present-ok | link=%%short_assistant%% |  |
| click-ok | link=%%short_assistant%% |  |

| *Comment* | Test Case: Edit Profile. Be conservative around clicking update |  |
| wait_for_element_visible_ok | update_profile | 30000 |
| pause | 5000 | settling time |

| *Comment* | Test Case: Edit Profile. IE gets a permissions error if you do anything more than click_ok and exit |  |
| click_ok | update_profile |  |
| pause | 8000 |  |

| *Comment* | Test Case: Edit Profile COMPLETED |  |
